print(__doc__)

import numpy as np

from sklearn.cluster import DBSCAN
from sklearn import metrics
from sklearn.datasets import make_blobs
from sklearn.preprocessing import StandardScaler


# #############################################################################
# Generate sample data
X = [[187.20001220703125, 411.6000061035156],
[273.6000061035156, 127.20000457763672],
[819.6000366210938, 374.4000244140625],
[632.4000244140625, 386.4000244140625],
[350.4000244140625, 375.6000061035156],
[522.0, 528.0],
[328.8000183105469, 451.20001220703125],
[510.0000305175781, 528.0],
[620.4000244140625, 375.6000061035156],
[624.0, 375.6000061035156],
[228.00001525878906, 386.4000244140625],
[744.0, 375.6000061035156],
[643.2000122070312, 118.80000305175781],
[879.6000366210938, 126.00000762939453],
[195.60000610351562, 376.8000183105469],
[310.8000183105469, 451.20001220703125],
[217.20001220703125, 597.6000366210938],
[232.8000030517578, 597.6000366210938],
[282.0, 376.8000183105469],
[250.8000030517578, 385.20001220703125],
[248.40000915527344, 385.20001220703125],
[198.00001525878906, 385.20001220703125],
[321.6000061035156, 528.0],
[540.0, 376.8000183105469],
[192.0, 385.20001220703125],
[188.40000915527344, 385.20001220703125],
[318.0, 468.0000305175781],
[411.6000061035156, 597.6000366210938],
[820.800048828125, 378.0],
[826.800048828125, 378.0],
[836.4000244140625, 378.0],
[344.4000244140625, 495.6000061035156],
[916.800048828125, 494.4000244140625],
[903.6000366210938, 450.0000305175781],
[667.2000122070312, 493.20001220703125],
[364.8000183105469, 384.0],
[249.60000610351562, 601.2000122070312],
[334.8000183105469, 379.20001220703125],
[128.40000915527344, 571.2000122070312],
[542.4000244140625, 379.20001220703125],
[628.800048828125, 379.20001220703125],
[354.0, 384.0],
[235.20001220703125, 384.0],
[252.00001525878906, 528.0],
[367.20001220703125, 120.00000762939453],
[838.800048828125, 379.20001220703125],
[646.800048828125, 525.6000366210938],
[499.20001220703125, 123.60000610351562],
[525.6000366210938, 382.8000183105469],
[880.800048828125, 122.4000015258789],
[387.6000061035156, 513.6000366210938],
[684.0, 526.800048828125],
[903.6000366210938, 494.4000244140625],
[212.40000915527344, 598.800048828125],
[252.00001525878906, 382.8000183105469],
[418.8000183105469, 526.800048828125],
[241.20001220703125, 382.8000183105469],
[210.00001525878906, 382.8000183105469],
[248.40000915527344, 381.6000061035156],
[666.0, 570.0],
[528.0, 381.6000061035156],
[626.4000244140625, 381.6000061035156],
[217.20001220703125, 600.0],
[810.0000610351562, 260.4000244140625],
[538.800048828125, 381.6000061035156],
[788.4000244140625, 256.8000183105469],
[696.0, 696.0],
[43.20000076293945, 554.4000244140625],
[265.20001220703125, 122.4000015258789],
[770.4000244140625, 150.0],
[375.6000061035156, 474.0000305175781],
[208.8000030517578, 271.20001220703125],
[525.6000366210938, 603.6000366210938],
[915.6000366210938, 249.60000610351562],
[241.20001220703125, 31.200000762939453],
[514.800048828125, 552.0],
[381.6000061035156, 508.8000183105469],
[746.4000244140625, 277.20001220703125],
[568.800048828125, 504.0000305175781],
[657.6000366210938, 588.0],
[843.6000366210938, 681.6000366210938],
[673.2000122070312, 559.2000122070312],
[368.4000244140625, 412.8000183105469],
[816.0000610351562, 240.00001525878906],
[618.0, 378.0],
[398.4000244140625, 505.20001220703125],
[500.4000244140625, 436.8000183105469],
[584.4000244140625, 549.6000366210938],
[337.20001220703125, 376.8000183105469],
[733.2000122070312, 186.0],
[213.60000610351562, 303.6000061035156],
[510.0000305175781, 448.8000183105469],
[183.60000610351562, 597.6000366210938],
[856.800048828125, 174.0],
[524.4000244140625, 478.8000183105469],
[420.0000305175781, 289.20001220703125],
[674.4000244140625, 373.20001220703125],
[633.6000366210938, 554.4000244140625],
[201.60000610351562, 596.4000244140625],
[439.20001220703125, 289.20001220703125],
[663.6000366210938, 417.6000061035156],
[43.20000076293945, 290.4000244140625],
[909.6000366210938, 370.8000183105469],
[933.6000366210938, 492.0000305175781],
[921.6000366210938, 51.60000228881836],
[752.4000244140625, 370.8000183105469],
[369.6000061035156, 290.4000244140625],
[476.4000244140625, 448.8000183105469],
[238.8000030517578, 570.0],
[583.2000122070312, 423.6000061035156],
[892.800048828125, 483.6000061035156],
[412.8000183105469, 282.0],
[522.0, 561.6000366210938],
[548.4000244140625, 214.8000030517578],
[540.0, 217.20001220703125],
[536.4000244140625, 217.20001220703125],
[202.8000030517578, 458.4000244140625],
[888.0000610351562, 300.0],
[760.800048828125, 403.20001220703125],
[384.0, 132.0],
[182.40000915527344, 420.0000305175781],
[325.20001220703125, 594.0],
[883.2000122070312, 474.0000305175781],
[925.2000122070312, 368.4000244140625],
[524.4000244140625, 529.2000122070312],
[754.800048828125, 368.4000244140625],
[552.0, 508.8000183105469],
[186.0, 547.2000122070312],
[542.4000244140625, 212.40000915527344],
[189.60000610351562, 546.0],
[358.8000183105469, 484.8000183105469],
[904.800048828125, 367.20001220703125],
[876.0000610351562, 447.6000061035156],
[145.20001220703125, 566.4000244140625],
[256.8000183105469, 512.4000244140625],
[579.6000366210938, 544.800048828125],
[680.4000244140625, 367.20001220703125],
[414.0000305175781, 415.20001220703125],
[753.6000366210938, 135.60000610351562],
[854.4000244140625, 166.8000030517578],
[678.0, 567.6000366210938],
[643.2000122070312, 486.0000305175781],
[621.6000366210938, 392.4000244140625],
[192.0, 415.20001220703125],
[925.2000122070312, 495.6000061035156],
[928.800048828125, 366.0],
[900.0000610351562, 366.0],
[518.4000244140625, 604.800048828125],
[201.60000610351562, 324.0],
[487.20001220703125, 366.0],
[145.20001220703125, 316.8000183105469],
[657.6000366210938, 412.8000183105469],
[878.4000244140625, 364.8000183105469],
[831.6000366210938, 364.8000183105469],
[777.6000366210938, 411.6000061035156],
[186.0, 394.8000183105469],
[325.20001220703125, 456.0000305175781],
[230.40000915527344, 444.0000305175781],
[650.4000244140625, 363.6000061035156],
[663.6000366210938, 364.8000183105469],
[202.8000030517578, 607.2000122070312],
[547.2000122070312, 394.8000183105469],
[484.8000183105469, 364.8000183105469],
[879.6000366210938, 469.20001220703125],
[752.4000244140625, 360.0],
[195.60000610351562, 396.0000305175781],
[645.6000366210938, 578.4000244140625],
[552.0, 446.4000244140625],
[409.20001220703125, 607.2000122070312],
[372.0, 480.0000305175781],
[346.8000183105469, 364.8000183105469],
[884.4000244140625, 363.6000061035156],
[646.800048828125, 574.800048828125],
[769.2000122070312, 404.4000244140625],
[640.800048828125, 351.6000061035156],
[380.4000244140625, 477.6000061035156],
[402.0000305175781, 336.0],
[348.0, 516.0],
[880.800048828125, 679.2000122070312],
[610.800048828125, 339.6000061035156],
[483.6000061035156, 445.20001220703125],
[628.800048828125, 406.8000183105469],
[924.0000610351562, 362.4000244140625],
[530.4000244140625, 558.0],
[699.6000366210938, 579.6000366210938],
[609.6000366210938, 580.800048828125],
[644.4000244140625, 580.800048828125],
[576.0, 589.2000122070312],
[925.2000122070312, 342.0],
[601.2000122070312, 535.2000122070312],
[625.2000122070312, 390.0000305175781],
[853.2000122070312, 679.2000122070312],
[669.6000366210938, 360.0],
[325.20001220703125, 616.800048828125],
[255.60000610351562, 609.6000366210938],
[306.0, 615.6000366210938],
[616.800048828125, 350.4000244140625],
[646.800048828125, 428.4000244140625],
[824.4000244140625, 358.8000183105469],
[340.8000183105469, 609.6000366210938],
[344.4000244140625, 147.60000610351562],
[248.40000915527344, 355.20001220703125],
[874.800048828125, 444.0000305175781],
[216.00001525878906, 402.0000305175781],
[212.40000915527344, 272.4000244140625],
[151.20001220703125, 585.6000366210938],
[396.0000305175781, 319.20001220703125],
[418.8000183105469, 543.6000366210938],
[474.0000305175781, 411.6000061035156],
[517.2000122070312, 114.00000762939453],
[801.6000366210938, 64.80000305175781],
[646.800048828125, 475.20001220703125],
[512.4000244140625, 433.20001220703125],
[360.0, 130.8000030517578],
[250.8000030517578, 397.20001220703125],
[400.8000183105469, 506.4000244140625],
[667.2000122070312, 424.8000183105469],
[670.800048828125, 424.8000183105469],
[589.2000122070312, 567.6000366210938],
[804.0000610351562, 428.4000244140625],
[837.6000366210938, 686.4000244140625],
[931.2000122070312, 139.20001220703125],
[753.6000366210938, 166.8000030517578],
[402.0000305175781, 508.8000183105469],
[914.4000244140625, 351.6000061035156],
[202.8000030517578, 380.4000244140625],
[915.6000366210938, 626.4000244140625],
[680.4000244140625, 526.800048828125],
[646.800048828125, 584.4000244140625],
[756.0, 396.0000305175781],
[190.8000030517578, 519.6000366210938],
[764.4000244140625, 403.20001220703125],
[370.8000183105469, 409.20001220703125],
[672.0, 568.800048828125],
[614.4000244140625, 350.4000244140625],
[840.0000610351562, 685.2000122070312],
[625.2000122070312, 540.0],
[912.0000610351562, 244.8000030517578],
[632.4000244140625, 337.20001220703125],
[534.0, 448.8000183105469],
[523.2000122070312, 550.800048828125],
[543.6000366210938, 450.0000305175781],
[388.8000183105469, 280.8000183105469],
[440.4000244140625, 590.4000244140625],
[895.2000122070312, 652.800048828125],
[370.8000183105469, 283.20001220703125],
[16.80000114440918, 547.2000122070312],
[775.2000122070312, 406.8000183105469],
[876.0000610351562, 628.800048828125],
[246.00001525878906, 597.6000366210938],
[490.8000183105469, 424.8000183105469],
[523.2000122070312, 384.0],
[235.20001220703125, 433.20001220703125],
[450.0000305175781, 496.8000183105469],
[817.2000122070312, 236.40000915527344],
[286.8000183105469, 574.800048828125],
[205.20001220703125, 266.4000244140625],
[580.800048828125, 428.4000244140625],
[540.0, 208.8000030517578],
[337.20001220703125, 411.6000061035156],
[666.0, 586.800048828125],
[265.20001220703125, 351.6000061035156],
[373.20001220703125, 406.8000183105469],
[650.4000244140625, 530.4000244140625],
[381.6000061035156, 406.8000183105469],
[676.800048828125, 368.4000244140625],
[242.40000915527344, 607.2000122070312],
[144.0, 310.8000183105469],
[750.0, 362.4000244140625],
[612.0, 342.0],
[476.4000244140625, 117.60000610351562],
[778.800048828125, 188.40000915527344],
[931.2000122070312, 39.60000228881836],
[270.0, 396.0000305175781],
[316.8000183105469, 462.0000305175781],
[352.8000183105469, 501.6000061035156],
[195.60000610351562, 606.0],
[465.6000061035156, 352.8000183105469],]
X = StandardScaler().fit_transform(X)

# #############################################################################
# Compute DBSCAN
db = DBSCAN(eps=0.3, min_samples=10).fit(X)
core_samples_mask = np.zeros_like(db.labels_, dtype=bool)
core_samples_mask[db.core_sample_indices_] = True
labels = db.labels_

# Number of clusters in labels, ignoring noise if present.
n_clusters_ = len(set(labels)) - (1 if -1 in labels else 0)
n_noise_ = list(labels).count(-1)

print('Estimated number of clusters: %d' % n_clusters_)
print('Estimated number of noise points: %d' % n_noise_)
print("Silhouette Coefficient: %0.3f"
      % metrics.silhouette_score(X, labels))

# #############################################################################
# Plot result
import matplotlib.pyplot as plt

# Black removed and is used for noise instead.
unique_labels = set(labels)
colors = [plt.cm.Spectral(each)
          for each in np.linspace(0, 1, len(unique_labels))]
for k, col in zip(unique_labels, colors):
    if k == -1:
        # Black used for noise.
        col = [0, 0, 0, 1]

    class_member_mask = (labels == k)

    xy = X[class_member_mask & core_samples_mask]
    plt.plot(xy[:, 0], xy[:, 1], 'o', markerfacecolor=tuple(col),
             markeredgecolor='k', markersize=14)

    xy = X[class_member_mask & ~core_samples_mask]
    plt.plot(xy[:, 0], xy[:, 1], 'o', markerfacecolor=tuple(col),
             markeredgecolor='k', markersize=6)

plt.title('Estimated number of clusters: %d' % n_clusters_)
plt.show()